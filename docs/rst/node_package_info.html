

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>node_package_info module &mdash; Vargi Bots 3 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Vargi Bots
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">node_package_info module</a></li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Vargi Bots</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>node_package_info module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/rst/node_package_info.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-node_package_info">
<span id="node-package-info-module"></span><h1>node_package_info module<a class="headerlink" href="#module-node_package_info" title="Permalink to this headline">¶</a></h1>
<p>“node_package_info” is used to do all the image processing tasks.
This node will scan all the packages and save the pose and priority of
the package as a key value pair, and send it other ROS nodes.</p>
<dl class="class">
<dt id="node_package_info.CameraActionClient">
<em class="property">class </em><code class="descclassname">node_package_info.</code><code class="descname">CameraActionClient</code><a class="reference internal" href="../_modules/node_package_info.html#CameraActionClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#node_package_info.CameraActionClient" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used for image processing from 2D Camera</p>
<p>This function will initialize this node as ROS Action Client
This will also publish all the package_info and package_pose
to other ROS nodes</p>
<dl class="method">
<dt id="node_package_info.CameraActionClient.callback">
<code class="descname">callback</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/node_package_info.html#CameraActionClient.callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#node_package_info.CameraActionClient.callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback function to “/eyrc/vb/camera_1/image_raw” ROS topic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>ROS messaage</em>) – Incoming message from “/eyrc/vb/camera_1/image_raw” ROS topic</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="node_package_info.CameraActionClient.get_qr_data">
<code class="descname">get_qr_data</code><span class="sig-paren">(</span><em>arg_image</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/node_package_info.html#CameraActionClient.get_qr_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#node_package_info.CameraActionClient.get_qr_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used to read the QR codes from the image.</p>
<p>After reading the QR data, it stores them as value to the pacakge name
which is used as key. This helps in figuring out which package has what
priority.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg_image</strong> (<em>img</em>) – The preprocessed image, from which QR data is to be read</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="node_package_info.CameraActionClient.on_transition">
<code class="descname">on_transition</code><span class="sig-paren">(</span><em>goal_handle</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/node_package_info.html#CameraActionClient.on_transition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#node_package_info.CameraActionClient.on_transition" title="Permalink to this definition">¶</a></dt>
<dd><p>Function called when there is a change in state of Action Client State Machine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>goal_handle</strong> – goal_handle of the goal, whose state changed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="node_package_info.CameraActionClient.pre_process_img">
<code class="descname">pre_process_img</code><span class="sig-paren">(</span><em>arg_image</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/node_package_info.html#CameraActionClient.pre_process_img"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#node_package_info.CameraActionClient.pre_process_img" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used to do preprocess the incoming image</p>
<p>Preprocessing includes converting to gray scale, bluring and
thresholding the image. All these helps us to read the different
QR codes from the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg_image</strong> (<em>image</em>) – The input list (image) from the 2D Camera</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The preprocessed version of the argument image</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">thresh_im (image)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="node_package_info.CameraActionClient.send_goal">
<code class="descname">send_goal</code><span class="sig-paren">(</span><em>arg_protocol</em>, <em>arg_mode</em>, <em>arg_topic</em>, <em>arg_message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/node_package_info.html#CameraActionClient.send_goal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#node_package_info.CameraActionClient.send_goal" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used to send goals to the action server</p>
<p>NOTE -
We have not changed the contents of the action msg,
as we were not sure if that is allowed or not.
Hence, parameters name and it’s function will not make
much sense, since we are using it for diffrent purposes
than its name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>arg_protocol</strong> (<em>str</em>) – goal_protocol to be used                         google_apps: To send data to google sheet                         mqtt: To send data to mqtt server           arg_mode (str): Mode of the goal (now depricated i.e. value should be “NA”)</li>
<li><strong>arg_topic</strong> (<em>str</em>) – Name of the sheet on which to upload data</li>
<li><strong>arg_message</strong> (<em>str</em>) – Contents of the data to be uploaded</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">goal_handle of the sent goal</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">goal_handle</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="node_package_info.CameraActionClient.upload_on_gsheet">
<code class="descname">upload_on_gsheet</code><span class="sig-paren">(</span><em>package</em>, <em>color</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/node_package_info.html#CameraActionClient.upload_on_gsheet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#node_package_info.CameraActionClient.upload_on_gsheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used to upload the data to google sheet, by sending goal to Action Server</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>package</strong> (<em>str</em>) – Name of the package, whose data is being sent</li>
<li><strong>color</strong> (<em>str</em>) – Color of the package whose data is being sent</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="node_package_info.main">
<code class="descclassname">node_package_info.</code><code class="descname">main</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/node_package_info.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#node_package_info.main" title="Permalink to this definition">¶</a></dt>
<dd><p>The main function, execution starts from here</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, VB1083@Darshan_Dodia.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>